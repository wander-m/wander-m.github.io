<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Wanderer - My programming learning process</title><meta name="author" content="wander-m"><meta name="copyright" content="wander-m"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="You only live once">
<meta property="og:type" content="website">
<meta property="og:title" content="Wanderer">
<meta property="og:url" content="https://wander-m.github.io/">
<meta property="og:site_name" content="Wanderer">
<meta property="og:description" content="You only live once">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/11/23/2ayS5hvOtVdDGNT.png">
<meta property="article:author" content="wander-m">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/11/23/2ayS5hvOtVdDGNT.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://wander-m.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin="crossorigin"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//pingjs.qq.com"/><link rel="preconnect" href="//s4.cnzz.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="google57e7d8264c9b294a.html"/><meta name="baidu-site-verification" content="76fdb177297c43af065ef2a32e6816bd"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?93097b713a8d0f39dc6d84db9d4f39ea";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-180982678-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-180982678-1');
</script><script>var _mtac = {};
(function() {
    var mta = document.createElement("script");
    mta.src = "//pingjs.qq.com/h5/stats.js?v2.0.4";
    mta.setAttribute("name", "MTAH5");
    mta.setAttribute("sid", "500732292");
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(mta, s);
})();
</script><script async="async" data-pjax="data-pjax" src="https://s4.cnzz.com/z_stat.php?id=1279376944&amp;web_id=1279376944"></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: wander-m","link":"链接: ","source":"来源: Wanderer","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-07-14 14:10:51'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><style type="text/css">#toggle-sidebar {bottom: 80px}</style><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5124189275098717" crossorigin="anonymous"></script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Wanderer" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="https://i.loli.net/2020/11/23/2ayS5hvOtVdDGNT.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">80</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> book</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://i.loli.net/2020/11/29/UM2AleOoFPi83bS.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Wanderer</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> book</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">Wanderer</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/wander-m" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:weilaiyilai54@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/I2C%E6%80%BB%E7%BA%BF" title="I2C总线">I2C总线</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-14T03:59:32.975Z" title="发表于 2023-07-14 11:59:32">2023-07-14</time></span></div><div class="content"> I2C总线
学习目标
1了解I2C通讯协议
2理解I2C工作原理
3理解I2C原理图的设计
学习内容
基本原理
I2C（Inter-Integrated Circuit）是一种串行通信协议，用于在集成电路之间进行数据交换。它最初由飞利浦公司（Philips）开发，现已成为一种通用的串行通信协议，被广泛应用于各种电子设备和嵌入式系统中。
总线结构
I2C总线包括两根信号线：SDA（串行数据线）和SCL（串行时钟线）。这两根信号线共用一个总线，因此在总线上可以连接多个设备。在I2C总线上，每个设备都有一个唯一的地址，用于标识设备。
SCL线是时钟线，用于控制数据传输的速度和时序；SDA线是数据线，用于传输实际的数据.
设备的地址通常是由设备制造商确定的，并在设备的数据手册中公布。

总之我们搞明白几个关键名词就可以：
1Master: 主设备。通常是主控MCU
2Slave：从设备。通常是功能芯片，例如RTC时钟，陀螺仪，温湿度等等。
3SCL：时钟线，控制数据传输的速度和时序。
4SDA：数据线。传输数据的。
5地址：从设备地址。主设备通过地址进行访问。在总线中，每个从设备地址唯一。
 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/RTC%E6%97%B6%E9%92%9F" title="RTC时钟">RTC时钟</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-14T03:55:52.656Z" title="发表于 2023-07-14 11:55:52">2023-07-14</time></span></div><div class="content"> RTC时钟
学习目标
1理解RTC时钟的基本原理和使用方法。
2学会使用STC8H单片机的RTC时钟模块进行时间的读取和设置。
3掌握使用RTC时钟进行定时和闹钟功能的实现，了解时钟中断的工作原理。
4了解I2C总线的基本原理和特点
5掌握I2C通讯的使用
6掌握中断处理
7熟悉从芯片手册获取有效信息
学习内容
RTC时钟
RTC时钟是一种实时时钟芯片，通常与微控制器或计算机等设备配合使用，提供高精度的时间和日期信息，以便于设备进行时间相关的操作，如记录数据、定时执行任务、闹钟提醒等。
RTC时钟的应用场景非常广泛，例如计算机主板、智能家居、物联网设备、工业自动化等领域。在这些应用中，RTC时钟可以提供高精度的时间戳、定时任务、日历功能等，从而为系统提供更加可靠的时间基准。
除了时间和日期信息，一些RTC时钟芯片还集成了温度传感器、电池备份等功能，以提供更加全面的服务。例如，在断电情况下，RTC时钟的备用电池可以维持时钟的运行，以保证时间和日期信息的准确性。
以下是几种常见的RTC时钟芯片及其特点和应用场景：
1DS1302：DS1302是一款低功耗时钟模块，集成了时钟、日历和时钟报 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/%E8%9C%82%E9%B8%A3%E5%99%A8" title="蜂鸣器">蜂鸣器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-14T03:36:46.114Z" title="发表于 2023-07-14 11:36:46">2023-07-14</time></span></div><div class="content"> 蜂鸣器
学习目标
1理解原理图
2了解蜂鸣器分类
3实现蜂鸣器的简单发声
4了解简单的乐理知识
5实现音符播放
6实现音乐播放
学习内容
蜂鸣器
蜂鸣器是一种能够产生固定频率的声音的电子元件。它通常由振膜、震荡器、放大器和声音反馈电路等部分组成。振膜是蜂鸣器中最核心的部分，它能够将电信号转换为机械振动，产生声音。震荡器提供稳定的电信号，用于驱动振膜产生振动。放大器用于放大电信号的幅度，以便产生足够的声音。声音反馈电路可以提供反馈信号，帮助系统稳定。
蜂鸣器广泛应用于电子设备中，例如电子钟、警报器、电子琴等。它们的声音频率通常在1 kHz到10 kHz之间，具有尖锐而刺耳的特点。蜂鸣器的种类很多，例如电磁式蜂鸣器、压电式蜂鸣器、有源蜂鸣器、无源蜂鸣器等等。不同类型的蜂鸣器具有不同的特点和应用场景。
电子爱好者和开发者通常会使用蜂鸣器作为一种简单而有效的提示器件。例如，在嵌入式系统中，可以通过控制蜂鸣器发出不同的声音来实现提示、警报、提醒等功能。一些开发板和单片机也通常带有蜂鸣器接口，方便开发者使用。
通常我们在开发中用到最多的是 有源蜂鸣器和无源蜂鸣器。有源的直接接电源即可发声。无源的 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/%E6%95%B0%E7%A0%81%E7%AE%A12" title="数码管2">数码管2</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-14T03:28:48.298Z" title="发表于 2023-07-14 11:28:48">2023-07-14</time></span></div><div class="content"> 数码管2
学习目标
1理解自定义码表
2数码管驱动封装
3掌握数字走马灯实现
学习内容
驱动封装
根据前面的内容可以将代码进行封装，封装后作为一个独立的整体出现：
Nixie.h
1234567891011121314151617181920#ifndef __NIXIE_H__#define __NIXIE_H__#include &quot;config.h&quot;// 数据输入#define NIX_DI	P44// 移位#define NIX_SCK	P42// 锁存#define	NIX_RCK	P43#define NIX_DI_INIT()	&#123;P4M1 &amp;=~ 0x10,	P4M0 &amp;= ~0x10;&#125;#define NIX_SCK_INIT()	&#123;P4M1 &amp;=~ 0x04,	P4M0 &amp;= ~0x04;&#125;#define NIX_RCK_INIT()	&#123;P4M1 &amp;=~ 0x08,	P4M0 &amp;= ~0x08;&#125;void Nixie_init(void);v ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/%E6%95%B0%E7%A0%81%E7%AE%A1" title="数码管">数码管</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-14T03:22:39.309Z" title="发表于 2023-07-14 11:22:39">2023-07-14</time></span></div><div class="content"> 数码管
学习目标
1理解数码管电路原理
2理解74HC595移位寄存器原理
3了解74HC595移位寄存器电路设计
4加强二进制操作
5驱动74HC595移位寄存器控制数码管
学习内容
数码管结构
共阴与共阳
共阳数码管是指将所有发光二极管的阳极接到一起，形成公共阳极（COM）的数码管，共阳数码管在应用的时候，应该将 COM 端口接到正极，当某一段发光二极管的阴极为低电平的时候，相对应的段就点亮，当某一字段的阴极为高电平的时候，相对应段就不亮。
1位数码管


2位数码管


4位数码管


移位寄存器
74HC595 是一款 8 位 CMOS 移位寄存器。8 位并行输出端口为可控的三态输出，一 个串行输出端口，可以实现多级芯片串行控制，组成 8n 位（n 为芯片数量）并行输  。
优点：通过逻辑操作来控制LED的状态，少量的引脚控制更多的状态。


原理图

移位寄存器数据流程
移位寄存器的引脚：
1LATCH_CLOCK:  锁存时钟
2SHIFT_CLOCK: 移位时钟
3A:  数据输入信号管脚
4QA~QH: 数据信号转化出来的高低电平
5SQH: 串行数据输出管脚

上图 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/%E7%8B%AC%E7%AB%8B%E6%8C%89%E9%94%AE" title="独立按键">独立按键</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-14T03:19:03.626Z" title="发表于 2023-07-14 11:19:03">2023-07-14</time></span></div><div class="content"> 独立按键
学习目标
1能够读取按键操作
2能够处理按键消抖
学习内容
原理图

按键消抖
1软件延时法：在按键按下时，使用软件延时一段时间，例如10毫秒，然后再检测按键是否还处于按下状态，如果是，则认为按键有效。这种方法简单易行，但会浪费一定的处理器时间，同时需要根据实际情况调整延时时间。
2硬件滤波法：在按键输入引脚上添加RC滤波电路，可以有效地去除按键信号上的瞬间噪声。这种方法对于高频噪声的去除效果较好，但需要一定的电路设计能力。
3程序消抖法：在程序中记录按键前后两次的状态，如果两次状态不同，则认为按键有效。这种方法可以根据需要调整检测时间，消抖效果较好，但需要额外的程序设计。
我们采用程序消抖法。
软件设计
要求
当用户按下，或者松开按键时，捕获到这个事件。将事件通过串口发出来。
分析
监控引脚的高低电平变化。记录状态，比对实时状态。
●监控：死循环去读取电平信息
●记录与比对：通过变量记录，实时拿到当前状态，与记录的上一次进行比对。
实现
通过状态记录，记录每个按键的状态。默认得定义状态的值。
1234567891011121314151617181920212223242 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/%E7%83%AD%E6%95%8F%E7%94%B5%E9%98%BB" title="热敏电阻">热敏电阻</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-14T03:16:38.820Z" title="发表于 2023-07-14 11:16:38">2023-07-14</time></span></div><div class="content"> 热敏电阻
学习目标
学习内容
NTC(Negative Temperature Coefficient)是指随温度上升电阻减小、具有负温度系数的热敏电阻现象和材料。




ADC功能
引脚




ADC0
P1.0


ADC1
P1.1


ADC2
P5.4


ADC3
P1.3


ADC4
P1.4


ADC5
P1.5


ADC6
P1.6


ADC7
P1.7


ADC8
P0.0


ADC9
P0.1


ADC10
P0.2


ADC11
P0.3


ADC12
P0.4


ADC13
P0.5


ADC14
P0.6



温度计算步骤
1通过ADC得到电压
∵4096ADCV=2.5Vnt**c∴Vnt**c=2.5×4096ADCV
这里ADC_V就是通过ADC通道读到的数值，范围是0-4096
V_ntc即为对应的电压值
2通过欧姆定律得到阻值
Xr**V−ntc=10K3.3−V−ntc=10K+Xr3.3
即整个线路上的电流是固定的，则热敏电阻的阻值X_r = V_ntc * 10 / (3.3 - V_ntc)
3通过阻值查表得到 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/%E7%94%B5%E4%BD%8D%E5%99%A8%E6%A1%88%E4%BE%8B(ADC)" title="电位器案例(ADC)">电位器案例(ADC)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-14T02:48:37.909Z" title="发表于 2023-07-14 10:48:37">2023-07-14</time></span></div><div class="content"> 电位器案例(ADC)
学习目标
1理解模数转换器（ADC）的基本原理和应用场景；
2掌握STC8H中ADC模块的结构和工作原理；
3学会使用STC8H的ADC的电路设计；
4掌握通过编程获取ADC数据
5学会基本的调试策略
学习内容
案例介绍
通过控制滑动变阻器，来观察电压变化。

1通过万用表测量 P0.5位置的电压
2通过代码读取出 P0.5位置的电压
万用表测量
1调整万用表到电压测量位
2正极接P0.5
3负极接GND
4读取值
ADC概念
ADC(Analog to Digital Converter 模数转换器）是一种将模拟信号转换为数字信号的电路。在电子系统中，模拟信号常常需要转换为数字信号进行处理和存储。模数转换的基本原理是将模拟信号进行采样，并将采样值量化为数字表示。
●采样：是指在一定时间间隔内对模拟信号进行测量，并将测量值存储在数字形式的数据中
●量化：是将这些连续的模拟信号值离散化为一系列数字值，通常使用二进制表示。
简单理解，ADC是把模拟信号转换为数字信号的工具，我们可以认为，一个信号有强弱之分，强弱的体现为电压的高低。在数字电路中，只有0和1之分，也就是 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/%E9%9C%87%E5%8A%A8%E9%A9%AC%E8%BE%BEPWM" title="震动马达PWM">震动马达PWM</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-14T02:39:41.003Z" title="发表于 2023-07-14 10:39:41">2023-07-14</time></span></div><div class="content"> 震动马达PWM
学习目标
1学习如何在STC8H上配置PWMB
2掌握PWMB的各个配置
3学习如何使用PWMB控制震动马达
4掌握调试PWM的方法
学习内容
PWMB的应用
实现不同占空比下的震动的效果
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798#include &quot;config.h&quot;#include &quot;GPIO.h&quot;#include &quot;PWM.h&quot;#include &quot;UART.h&quot;#include &quot;delay.h&quot;#define PERIOD	(MAIN_Fosc / 1000)PWMx_Duty PWMB_Duty;u8 duty = 0;void GP ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/%E9%9C%87%E5%8A%A8%E9%A9%AC%E8%BE%BE" title="震动马达">震动马达</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-14T02:38:23.340Z" title="发表于 2023-07-14 10:38:23">2023-07-14</time></span></div><div class="content"> 震动马达
学习目标
1控制马达震动
学习内容
原理图

控制分析
S8050 NPN三极管特性
NPN型三极管的工作原理是基于PN结和PNP型晶体管的工作原理。
当外加正向电压时，发射区的P型半导体被注入少量的N型载流子（电子），这些电子被加速并向基区移动。在基区，电子与空穴结合，从而减少了空穴的浓度。当基区浓度低于发射区浓度时，电子会进一步扩散到集电区，导致集电区产生电流。
当外加反向电压时，PN结会被反向偏置。此时，电子和空穴被吸引到PN结中心，从而阻止了电流的流动。

B: base,  基极。（理解：基于/根据 这个条件做什么事情）
E: emitter, 发射极。（理解：发射端，入口）
C: collector, 集电极。（理解：收集电的区域，用电的器件在这个区域）
NPN型三极管，C极为输入端，E极为输出端，B极为控制端
B极 为高电平时，E极到C极的电路截止，正常导通。
B极 为低电平时，E极到C极的电路打开，无法导通。
震动控制
通过P0.1引脚控制马达震动。
功能设计
实现震动马达的震动。
12345678910111213141516171819202122232 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="https://i.loli.net/2020/11/23/2ayS5hvOtVdDGNT.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">wander-m</div><div class="author-info__description">You only live once</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">80</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/wander-m"><i class="fab fa-github"></i><span>Github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/wander-m" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:weilaiyilai54@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">Hello!!!</div></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/I2C%E6%80%BB%E7%BA%BF" title="I2C总线">I2C总线</a><time datetime="2023-07-14T03:59:32.975Z" title="发表于 2023-07-14 11:59:32">2023-07-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/RTC%E6%97%B6%E9%92%9F" title="RTC时钟">RTC时钟</a><time datetime="2023-07-14T03:55:52.656Z" title="发表于 2023-07-14 11:55:52">2023-07-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/%E8%9C%82%E9%B8%A3%E5%99%A8" title="蜂鸣器">蜂鸣器</a><time datetime="2023-07-14T03:36:46.114Z" title="发表于 2023-07-14 11:36:46">2023-07-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/%E6%95%B0%E7%A0%81%E7%AE%A12" title="数码管2">数码管2</a><time datetime="2023-07-14T03:28:48.298Z" title="发表于 2023-07-14 11:28:48">2023-07-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/%E6%95%B0%E7%A0%81%E7%AE%A1" title="数码管">数码管</a><time datetime="2023-07-14T03:22:39.309Z" title="发表于 2023-07-14 11:22:39">2023-07-14</time></div></div></div></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/mysql/" style="font-size: 1.1em; color: #999">mysql</a> <a href="/tags/raspberry/" style="font-size: 1.1em; color: #999">raspberry</a> <a href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/" style="font-size: 1.1em; color: #999">云计算</a> <a href="/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/" style="font-size: 1.1em; color: #999">小技巧</a> <a href="/tags/%E6%A6%82%E7%8E%87%E8%AE%BA/" style="font-size: 1.1em; color: #999">概率论</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">73</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/11/"><span class="card-archive-list-date">十一月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">十月 2020</span><span class="card-archive-list-count">2</span></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">80</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2020-07-27T13:12:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">120k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-07-14T06:10:50.324Z"></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By wander-m</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">簡</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "不敢妄为些子事，只因曾读数行书,才能的火花，常常在勤奋的磨石上迸发,物物而不物于物，则胡可得而累邪".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: false,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '不敢妄为些子事，只因曾读数行书'
  }
}

if (true) {
  if (typeof Typed === 'function') subtitleType()
  else $.getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js', subtitleType)
} else {
  subtitleType()
}</script><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    $.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js', function () {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'dark',
      })
      true && mermaid.init()
    })
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div class="aplayer no-destroy" data-id="7790932964" data-server="tencent" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="true" muted></div><script src="//code.tidio.co/m7gse0ev5mozygouvva3vteqsksbbtef.js" async="async"></script><script>function onTidioChatApiReady() {
  window.tidioChatApi.hide();
  window.tidioChatApi.on("close", function() {
    window.tidioChatApi.hide();
  });
}
if (window.tidioChatApi) {
  window.tidioChatApi.on("ready", onTidioChatApiReady);
} else {
  document.addEventListener("tidioChat-ready", onTidioChatApiReady);
}

var chatBtnFn = () => {
  document.getElementById("chat_btn").addEventListener("click", function(){
    window.tidioChatApi.show();
    window.tidioChatApi.open();
  });
}
chatBtnFn()
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config_change',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (true) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  $('script[data-pjax]').each(function () {
    $(this).parent().append($(this).remove())
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', 'UA-180982678-1', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (true) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  $(window).off('scroll')

  //reset readmode
  $('body').hasClass('read-mode') && $('body').removeClass('read-mode')

})</script></div></body></html>